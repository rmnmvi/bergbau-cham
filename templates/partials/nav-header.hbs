<!-- Header -->
<header class="bg-black">
    <nav class="container mx-auto px-8 lg:px-16 py-6 flex justify-between items-center">
        <a href="/{{langPath}}index.html" class="flex items-center">
            <img src="{{rootPath}}assets/images/logo/logo_white.svg" alt="Edelmetall Cham Logo" class="h-10 w-auto">
        </a>
        <div class="hidden md:flex items-center space-x-8">
            <ul class="flex space-x-8">
                <li><a href="/{{langPath}}contact.html" class="text-white hover:text-gold transition">{{nav.contact}}</a></li>
            </ul>
            <a href="/{{langPath}}quote.html" class="ml-4 px-6 py-2 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-gray-900 transition">
                {{nav.quote}}
            </a>
            <!-- Language Dropdown -->
            <div class="relative ml-4">
                <button onclick="toggleLanguageDropdown(event)" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-white/10 transition">
                    <img src="{{rootPath}}assets/images/flags/{{#if isEnglish}}gb{{else}}fr{{/if}}.svg" alt="{{lang}}" class="w-5 h-auto">
                    <svg id="langDropdownArrow" class="w-4 h-4 text-white transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div id="langDropdown" class="absolute right-0 mt-2 w-24 bg-white rounded-lg shadow-lg hidden transition-all duration-200 z-50">
                    <a href="/{{pageName}}.html" class="flex items-center space-x-2 px-3 py-2.5 hover:bg-gray-50 {{#if isEnglish}}bg-gray-50{{/if}} rounded-t-lg">
                        <img src="{{rootPath}}assets/images/flags/gb.svg" alt="English" class="w-5 h-auto">
                        <span class="text-gray-700 font-medium">EN</span>
                    </a>
                    <a href="/fr/{{pageName}}.html" class="flex items-center space-x-2 px-3 py-2.5 hover:bg-gray-50 {{#if isFrench}}bg-gray-50{{/if}} rounded-b-lg">
                        <img src="{{rootPath}}assets/images/flags/fr.svg" alt="Français" class="w-5 h-auto">
                        <span class="text-gray-700 font-medium">FR</span>
                    </a>
                </div>
            </div>
        </div>
        <!-- Mobile menu button -->
        <button class="md:hidden text-white" onclick="toggleMobileMenu()">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
    </nav>
    <!-- Mobile menu -->
    <div id="mobileMenu" class="hidden md:hidden bg-black/90 backdrop-blur-sm">
        <ul class="px-6 py-4 space-y-2">
            <li><a href="/{{langPath}}contact.html" class="block text-white hover:text-gold transition">{{nav.contact}}</a></li>
            <li class="pt-2">
                <a href="/{{langPath}}quote.html" class="block w-full text-center px-6 py-2 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-gray-900 transition">
                    {{nav.quote}}
                </a>
            </li>
            <!-- Language switcher for mobile -->
            <li class="pt-4 border-t border-gray-700">
                <div class="flex items-center justify-center space-x-4">
                    <a href="/{{pageName}}.html" class="flex items-center space-x-2 px-3 py-2 {{#if isEnglish}}bg-white/20{{/if}} rounded-lg">
                        <img src="{{rootPath}}assets/images/flags/gb.svg" alt="English" class="w-5 h-auto">
                        <span class="text-white text-sm">EN</span>
                    </a>
                    <a href="/fr/{{pageName}}.html" class="flex items-center space-x-2 px-3 py-2 {{#if isFrench}}bg-white/20{{/if}} rounded-lg">
                        <img src="{{rootPath}}assets/images/flags/fr.svg" alt="Français" class="w-5 h-auto">
                        <span class="text-white text-sm">FR</span>
                    </a>
                </div>
            </li>
        </ul>
    </div>
</header>

<script>
function toggleMobileMenu() {
    const menu = document.getElementById('mobileMenu');
    menu.classList.toggle('hidden');
}

function toggleLanguageDropdown(event) {
    event.stopPropagation();
    const dropdown = document.getElementById('langDropdown');
    const arrow = document.getElementById('langDropdownArrow');
    
    if (dropdown.classList.contains('hidden')) {
        dropdown.classList.remove('hidden');
        arrow.classList.add('rotate-180');
    } else {
        dropdown.classList.add('hidden');
        arrow.classList.remove('rotate-180');
    }
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
    const dropdown = document.getElementById('langDropdown');
    const arrow = document.getElementById('langDropdownArrow');
    if (dropdown && !dropdown.contains(event.target) && !event.target.closest('button[onclick*="toggleLanguageDropdown"]')) {
        dropdown.classList.add('hidden');
        if (arrow) arrow.classList.remove('rotate-180');
    }
});
</script>